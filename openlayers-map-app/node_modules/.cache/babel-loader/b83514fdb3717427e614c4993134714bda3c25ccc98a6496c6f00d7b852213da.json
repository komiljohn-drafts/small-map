{"ast":null,"code":"/**\n * @module ol/source/StadiaMaps\n */\n\nimport XYZ from './XYZ.js';\nimport { ATTRIBUTION as OSM_ATTRIBUTION } from './OSM.js';\n\n/**\n * @const\n * @type string\n */\nconst STADIA_ATTRIBUTION = '&copy; <a href=\"https://www.stadiamaps.com/\" target=\"_blank\">Stadia Maps</a>';\n\n/**\n * @const\n * @type string\n */\nconst OMT_ATTRIBUTION = '&copy; <a href=\"https://openmaptiles.org/\" target=\"_blank\">OpenMapTiles</a>';\n\n/**\n * @const\n * @type string\n */\nconst STAMEN_ATTRIBUTION = '&copy; <a href=\"https://stamen.com/\" target=\"_blank\">Stamen Design</a>';\n\n/**\n * @type {Object<string, {extension: string}>}\n */\nconst LayerConfig = {\n  'stamen_terrain': {\n    extension: 'png'\n  },\n  'stamen_terrain_background': {\n    extension: 'png'\n  },\n  'stamen_terrain_labels': {\n    extension: 'png'\n  },\n  'stamen_terrain_lines': {\n    extension: 'png'\n  },\n  'stamen_toner_background': {\n    extension: 'png'\n  },\n  'stamen_toner': {\n    extension: 'png'\n  },\n  'stamen_toner_labels': {\n    extension: 'png'\n  },\n  'stamen_toner_lines': {\n    extension: 'png'\n  },\n  'stamen_toner_lite': {\n    extension: 'png'\n  },\n  'stamen_watercolor': {\n    extension: 'jpg'\n  },\n  'alidade_smooth': {\n    extension: 'png'\n  },\n  'alidade_smooth_dark': {\n    extension: 'png'\n  },\n  'alidade_satellite': {\n    extension: 'png'\n  },\n  'outdoors': {\n    extension: 'png'\n  },\n  'osm_bright': {\n    extension: 'png'\n  }\n};\n\n/**\n * @type {Object<string, {minZoom: number, maxZoom: number, retina: boolean}>}\n */\nconst ProviderConfig = {\n  'stamen_terrain': {\n    minZoom: 0,\n    maxZoom: 18,\n    retina: true\n  },\n  'stamen_toner': {\n    minZoom: 0,\n    maxZoom: 20,\n    retina: true\n  },\n  'stamen_watercolor': {\n    minZoom: 1,\n    maxZoom: 18,\n    retina: false\n  }\n};\n\n/**\n * @typedef {Object} Options\n * @property {number} [cacheSize] Deprecated.  Use the cacheSize option on the layer instead.\n * @property {boolean} [interpolate=true] Use interpolated values when resampling.  By default,\n * linear interpolation is used when resampling.  Set to false to use the nearest neighbor instead.\n * @property {string} layer Layer name. Valid values: `alidade_smooth`, `alidade_smooth_dark`, `outdoors`, `stamen_terrain`, `stamen_terrain_background`, `stamen_terrain_labels`, `stamen_terrain_lines`, `stamen_toner_background`, `stamen_toner`, `stamen_toner_labels`, `stamen_toner_lines`, `stamen_toner_lite`, `stamen_watercolor`, and `osm_bright`.\n * @property {number} [minZoom] Minimum zoom.\n * @property {number} [maxZoom] Maximum zoom.\n * @property {number} [reprojectionErrorThreshold=0.5] Maximum allowed reprojection error (in pixels).\n * Higher values can increase reprojection performance, but decrease precision.\n * @property {import(\"../Tile.js\").LoadFunction} [tileLoadFunction]\n * Optional function to load a tile given a URL. The default is\n * ```js\n * function(imageTile, src) {\n *   imageTile.getImage().src = src;\n * };\n * ```\n * @property {number} [transition=250] Duration of the opacity transition for rendering.\n * To disable the opacity transition, pass `transition: 0`.\n * @property {string} [url] URL template. Must include `{x}`, `{y}` or `{-y}`, and `{z}` placeholders.\n * @property {boolean} [wrapX=true] Whether to wrap the world horizontally.\n * @property {number|import(\"../array.js\").NearestDirectionFunction} [zDirection=0]\n * Choose whether to use tiles with a higher or lower zoom level when between integer\n * zoom levels. See {@link module:ol/tilegrid/TileGrid~TileGrid#getZForResolution}.\n * @property {string} [apiKey] Stadia Maps API key. Not required for localhost or most public web deployments. See https://docs.stadiamaps.com/authentication/ for details.\n * @property {boolean} [retina] Use retina tiles (if available; not available for Stamen Watercolor).\n */\n\n/**\n * @classdesc\n * Layer source for the Stadia Maps tile server.\n * @api\n */\nclass StadiaMaps extends XYZ {\n  /**\n   * @param {Options} options StadiaMaps options.\n   */\n  constructor(options) {\n    const i = options.layer.indexOf('-');\n    const provider = i == -1 ? options.layer : options.layer.slice(0, i);\n    const providerConfig = ProviderConfig[provider] || {\n      'minZoom': 0,\n      'maxZoom': 20,\n      'retina': true\n    };\n    const layerConfig = LayerConfig[options.layer];\n    const query = options.apiKey ? '?api_key=' + options.apiKey : '';\n    const retina = providerConfig.retina && options.retina ? '@2x' : '';\n    const url = options.url !== undefined ? options.url : 'https://tiles.stadiamaps.com/tiles/' + options.layer + '/{z}/{x}/{y}' + retina + '.' + layerConfig.extension + query;\n    const attributions = [STADIA_ATTRIBUTION, OMT_ATTRIBUTION, OSM_ATTRIBUTION];\n    if (options.layer.startsWith('stamen_')) {\n      attributions.splice(1, 0, STAMEN_ATTRIBUTION);\n    }\n    super({\n      attributions: attributions,\n      cacheSize: options.cacheSize,\n      crossOrigin: 'anonymous',\n      interpolate: options.interpolate,\n      maxZoom: options.maxZoom !== undefined ? options.maxZoom : providerConfig.maxZoom,\n      minZoom: options.minZoom !== undefined ? options.minZoom : providerConfig.minZoom,\n      reprojectionErrorThreshold: options.reprojectionErrorThreshold,\n      tileLoadFunction: options.tileLoadFunction,\n      transition: options.transition,\n      url: url,\n      tilePixelRatio: retina ? 2 : 1,\n      wrapX: options.wrapX,\n      zDirection: options.zDirection\n    });\n  }\n}\nexport default StadiaMaps;","map":{"version":3,"names":["XYZ","ATTRIBUTION","OSM_ATTRIBUTION","STADIA_ATTRIBUTION","OMT_ATTRIBUTION","STAMEN_ATTRIBUTION","LayerConfig","extension","ProviderConfig","minZoom","maxZoom","retina","StadiaMaps","constructor","options","i","layer","indexOf","provider","slice","providerConfig","layerConfig","query","apiKey","url","undefined","attributions","startsWith","splice","cacheSize","crossOrigin","interpolate","reprojectionErrorThreshold","tileLoadFunction","transition","tilePixelRatio","wrapX","zDirection"],"sources":["/Users/komiljohn/TestTasks/osm-prosight-dev/openlayers-map-app/node_modules/ol/source/StadiaMaps.js"],"sourcesContent":["/**\n * @module ol/source/StadiaMaps\n */\n\nimport XYZ from './XYZ.js';\nimport {ATTRIBUTION as OSM_ATTRIBUTION} from './OSM.js';\n\n/**\n * @const\n * @type string\n */\nconst STADIA_ATTRIBUTION =\n  '&copy; <a href=\"https://www.stadiamaps.com/\" target=\"_blank\">Stadia Maps</a>';\n\n/**\n * @const\n * @type string\n */\nconst OMT_ATTRIBUTION =\n  '&copy; <a href=\"https://openmaptiles.org/\" target=\"_blank\">OpenMapTiles</a>';\n\n/**\n * @const\n * @type string\n */\nconst STAMEN_ATTRIBUTION =\n  '&copy; <a href=\"https://stamen.com/\" target=\"_blank\">Stamen Design</a>';\n\n/**\n * @type {Object<string, {extension: string}>}\n */\nconst LayerConfig = {\n  'stamen_terrain': {\n    extension: 'png',\n  },\n  'stamen_terrain_background': {\n    extension: 'png',\n  },\n  'stamen_terrain_labels': {\n    extension: 'png',\n  },\n  'stamen_terrain_lines': {\n    extension: 'png',\n  },\n  'stamen_toner_background': {\n    extension: 'png',\n  },\n  'stamen_toner': {\n    extension: 'png',\n  },\n  'stamen_toner_labels': {\n    extension: 'png',\n  },\n  'stamen_toner_lines': {\n    extension: 'png',\n  },\n  'stamen_toner_lite': {\n    extension: 'png',\n  },\n  'stamen_watercolor': {\n    extension: 'jpg',\n  },\n  'alidade_smooth': {\n    extension: 'png',\n  },\n  'alidade_smooth_dark': {\n    extension: 'png',\n  },\n  'alidade_satellite': {\n    extension: 'png',\n  },\n  'outdoors': {\n    extension: 'png',\n  },\n  'osm_bright': {\n    extension: 'png',\n  },\n};\n\n/**\n * @type {Object<string, {minZoom: number, maxZoom: number, retina: boolean}>}\n */\nconst ProviderConfig = {\n  'stamen_terrain': {\n    minZoom: 0,\n    maxZoom: 18,\n    retina: true,\n  },\n  'stamen_toner': {\n    minZoom: 0,\n    maxZoom: 20,\n    retina: true,\n  },\n  'stamen_watercolor': {\n    minZoom: 1,\n    maxZoom: 18,\n    retina: false,\n  },\n};\n\n/**\n * @typedef {Object} Options\n * @property {number} [cacheSize] Deprecated.  Use the cacheSize option on the layer instead.\n * @property {boolean} [interpolate=true] Use interpolated values when resampling.  By default,\n * linear interpolation is used when resampling.  Set to false to use the nearest neighbor instead.\n * @property {string} layer Layer name. Valid values: `alidade_smooth`, `alidade_smooth_dark`, `outdoors`, `stamen_terrain`, `stamen_terrain_background`, `stamen_terrain_labels`, `stamen_terrain_lines`, `stamen_toner_background`, `stamen_toner`, `stamen_toner_labels`, `stamen_toner_lines`, `stamen_toner_lite`, `stamen_watercolor`, and `osm_bright`.\n * @property {number} [minZoom] Minimum zoom.\n * @property {number} [maxZoom] Maximum zoom.\n * @property {number} [reprojectionErrorThreshold=0.5] Maximum allowed reprojection error (in pixels).\n * Higher values can increase reprojection performance, but decrease precision.\n * @property {import(\"../Tile.js\").LoadFunction} [tileLoadFunction]\n * Optional function to load a tile given a URL. The default is\n * ```js\n * function(imageTile, src) {\n *   imageTile.getImage().src = src;\n * };\n * ```\n * @property {number} [transition=250] Duration of the opacity transition for rendering.\n * To disable the opacity transition, pass `transition: 0`.\n * @property {string} [url] URL template. Must include `{x}`, `{y}` or `{-y}`, and `{z}` placeholders.\n * @property {boolean} [wrapX=true] Whether to wrap the world horizontally.\n * @property {number|import(\"../array.js\").NearestDirectionFunction} [zDirection=0]\n * Choose whether to use tiles with a higher or lower zoom level when between integer\n * zoom levels. See {@link module:ol/tilegrid/TileGrid~TileGrid#getZForResolution}.\n * @property {string} [apiKey] Stadia Maps API key. Not required for localhost or most public web deployments. See https://docs.stadiamaps.com/authentication/ for details.\n * @property {boolean} [retina] Use retina tiles (if available; not available for Stamen Watercolor).\n */\n\n/**\n * @classdesc\n * Layer source for the Stadia Maps tile server.\n * @api\n */\nclass StadiaMaps extends XYZ {\n  /**\n   * @param {Options} options StadiaMaps options.\n   */\n  constructor(options) {\n    const i = options.layer.indexOf('-');\n    const provider = i == -1 ? options.layer : options.layer.slice(0, i);\n    const providerConfig = ProviderConfig[provider] || {\n      'minZoom': 0,\n      'maxZoom': 20,\n      'retina': true,\n    };\n\n    const layerConfig = LayerConfig[options.layer];\n    const query = options.apiKey ? '?api_key=' + options.apiKey : '';\n    const retina = providerConfig.retina && options.retina ? '@2x' : '';\n\n    const url =\n      options.url !== undefined\n        ? options.url\n        : 'https://tiles.stadiamaps.com/tiles/' +\n          options.layer +\n          '/{z}/{x}/{y}' +\n          retina +\n          '.' +\n          layerConfig.extension +\n          query;\n\n    const attributions = [STADIA_ATTRIBUTION, OMT_ATTRIBUTION, OSM_ATTRIBUTION];\n\n    if (options.layer.startsWith('stamen_')) {\n      attributions.splice(1, 0, STAMEN_ATTRIBUTION);\n    }\n\n    super({\n      attributions: attributions,\n      cacheSize: options.cacheSize,\n      crossOrigin: 'anonymous',\n      interpolate: options.interpolate,\n      maxZoom:\n        options.maxZoom !== undefined\n          ? options.maxZoom\n          : providerConfig.maxZoom,\n      minZoom:\n        options.minZoom !== undefined\n          ? options.minZoom\n          : providerConfig.minZoom,\n      reprojectionErrorThreshold: options.reprojectionErrorThreshold,\n      tileLoadFunction: options.tileLoadFunction,\n      transition: options.transition,\n      url: url,\n      tilePixelRatio: retina ? 2 : 1,\n      wrapX: options.wrapX,\n      zDirection: options.zDirection,\n    });\n  }\n}\n\nexport default StadiaMaps;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}